# Integration and Use of Veo Tasks API

The main function of the Veo Tasks API is to query the execution status of tasks by inputting the task ID generated by the Veo Videos Generation API.

This document will provide detailed integration instructions for the Veo Tasks API, helping you easily integrate and fully utilize the powerful features of this API. With the Veo Tasks API, you can easily query the execution status of tasks from the Veo Videos Generation API.

## Application Process

To use the Veo Tasks API, you first need to apply for the corresponding service on the application page [Veo Videos Generation API](https://platform.acedata.cloud/documents/63e01dc3-eb21-499e-8049-3025c460058f), and then copy the task ID from the Veo Videos Generation API, as shown in the image:

<p><img src="https://cdn.acedata.cloud/txlg6g.png" width="500" class="m-auto"></p>

Finally, go to the Tasks API page [Veo Tasks API](https://platform.acedata.cloud/documents/52778f8b-93ce-4db3-a62c-bcf0a92e5f3c) to apply for the corresponding service. After entering the page, click the "Acquire" button, as shown in the image:

![Application Page](https://cdn.acedata.cloud/rci31i.png)

If you are not logged in or registered, you will be automatically redirected to the [login page](https://platform.acedata.cloud) inviting you to register and log in. After logging in or registering, you will be automatically returned to the current page.

There will be a free quota offered for the first application, allowing you to use this API for free.

## Request Example

The Veo Tasks API can be used to query the results of the Veo Videos Generation API. For information on how to use the Veo Videos Generation API, please refer to the document [Veo Videos Generation API](https://platform.acedata.cloud/documents/63e01dc3-eb21-499e-8049-3025c460058f).

We will take one task ID returned by the Veo Videos Generation API as an example to demonstrate how to use this API. Suppose we have a task ID: 1ebe4f2b-59ba-4385-a4ea-0ce8a3fe12ed, and we will demonstrate how to pass in a task ID.

### Task Example Image

<p><img src="https://cdn.acedata.cloud/txlg6g.png" width="500" class="m-auto"></p>

### Setting Request Headers and Request Body

**Request Headers** include:

- `accept`: Specifies that the response result should be in JSON format, set to `application/json`.
- `authorization`: The key to call the API, which can be selected directly after application.

**Request Body** includes:

- `id`: The uploaded task ID.
- `action`: The operation method for the task.

Set as shown in the image below:

<p><img src="https://cdn.acedata.cloud/xztiqi.png" width="500" class="m-auto"></p>

### Code Example

You can see that various language codes have been automatically generated on the right side of the page, as shown in the image:

<p><img src="https://cdn.acedata.cloud/bsqh3i.png" width="500" class="m-auto"></p>

Some code examples are as follows:

#### CURL

```bash
curl -X POST 'https://api.acedata.cloud/veo/tasks' \
-H 'accept: application/json' \
-H 'authorization: Bearer {token}' \
-H 'content-type: application/json' \
-d '{
  "id": "1ebe4f2b-59ba-4385-a4ea-0ce8a3fe12ed",
  "action": "retrieve"
}'
```

#### Python

```python
import requests

url = "https://api.acedata.cloud/veo/tasks"

headers = {
    "accept": "application/json",
    "authorization": "Bearer {token}",
    "content-type": "application/json"
}

payload = {
    "id": "1ebe4f2b-59ba-4385-a4ea-0ce8a3fe12ed",
    "action": "retrieve"
}

response = requests.post(url, json=payload, headers=headers)
print(response.text)
```

### Response Example

After a successful request, the API will return the detailed information of the video task here. For example:

```json
{
  "_id": "68834c16550a4144a5112589",
  "id": "1ebe4f2b-59ba-4385-a4ea-0ce8a3fe12ed",
  "api_id": "52a0fa83-3c78-4793-b45a-c1a5c869ae46",
  "application_id": "b7341df0-3a87-40ef-8f3c-a7dda97816a2",
  "created_at": 1753435158.509,
  "credential_id": "1f64eaaa-eff0-4f18-bfc2-8c5b1e7949ae",
  "request": {
    "callback_url": "https://webhook.site/aed5cd28-f8aa-4dca-9480-8ec9b42137dc",
    "action": "text2video",
    "model": "veo2",
    "prompt": "White ceramic coffee mug on glossy marble countertop with morning window light. Camera slowly rotates 360 degrees around the mug, pausing briefly at the handle."
  },
  "trace_id": "d1d53c04-58c5-4c40-bb63-f00188540e56",
  "type": "videos",
  "user_id": "ad7afe47-cea9-4cda-980f-2ad8810e51cf",
  "response": {
    "success": true,
    "task_id": "1ebe4f2b-59ba-4385-a4ea-0ce8a3fe12ed",
    "trace_id": "d1d53c04-58c5-4c40-bb63-f00188540e56",
    "data": [
      {
        "id": "2f43ceed37944b4d836e1a1899dad0a1",
        "video_url": "https://platform.cdn.acedata.cloud/veo/1ebe4f2b-59ba-4385-a4ea-0ce8a3fe12ed.mp4",
        "created_at": "2025-07-25 17:19:20",
        "complete_at": "2025-07-25 17:21:45",
        "state": "succeeded"
      }
    ]
  }
}
```

The returned result contains multiple fields, with the request field being the request body when the task was initiated, and the response field being the response body returned after the task is completed. The field descriptions are as follows.

- `id`: The ID of the video task generated, used to uniquely identify this video generation task.
- `request`: The request information in the video task.
- `response`: The return information in the video task.

## Batch Query Operation

This is for querying the details of video tasks for multiple task IDs. Unlike the above, the action needs to be selected as retrieve_batch.

**Request Body** includes:

- `ids`: An array of uploaded task IDs.
- `action`: The operation method for the task.

Set as shown in the image below:

<p><img src="https://cdn.acedata.cloud/4p5uvq.png" width="500" class="m-auto"></p>

### Code Example

You can see that various language codes have been automatically generated on the right side of the page, as shown in the image:

<p><img src="https://cdn.acedata.cloud/g3b7g6.png" width="500" class="m-auto"></p>

Some code examples are as follows:

### Response Example

After a successful request, the API will return the specific details of all batch video tasks this time. For example:
```json
{
  "items": [
    {
      "_id": "68834c16550a4144a5112589",
      "id": "1ebe4f2b-59ba-4385-a4ea-0ce8a3fe12ed",
      "api_id": "52a0fa83-3c78-4793-b45a-c1a5c869ae46",
      "application_id": "b7341df0-3a87-40ef-8f3c-a7dda97816a2",
      "created_at": 1753435158.509,
      "credential_id": "1f64eaaa-eff0-4f18-bfc2-8c5b1e7949ae",
      "request": {
        "callback_url": "https://webhook.site/aed5cd28-f8aa-4dca-9480-8ec9b42137dc",
        "action": "text2video",
        "model": "veo2",
        "prompt": "白色陶瓷咖啡杯在光滑的大理石台面上，晨光透过窗户照射。相机缓慢地围绕咖啡杯旋转360度，短暂停留在把手处。"
      },
      "trace_id": "d1d53c04-58c5-4c40-bb63-f00188540e56",
      "type": "videos",
      "user_id": "ad7afe47-cea9-4cda-980f-2ad8810e51cf",
      "response": {
        "success": true,
        "task_id": "1ebe4f2b-59ba-4385-a4ea-0ce8a3fe12ed",
        "trace_id": "d1d53c04-58c5-4c40-bb63-f00188540e56",
        "data": [
          {
            "id": "2f43ceed37944b4d836e1a1899dad0a1",
            "video_url": "https://platform.cdn.acedata.cloud/veo/1ebe4f2b-59ba-4385-a4ea-0ce8a3fe12ed.mp4",
            "created_at": "2025-07-25 17:19:20",
            "complete_at": "2025-07-25 17:21:45",
            "state": "succeeded"
          }
        ]
      }
    },
    {
      "_id": "68834c16550a4144a5112589",
      "id": "1ebe4f2b-59ba-4385-a4ea-0ce8a3fe12ed",
      "api_id": "52a0fa83-3c78-4793-b45a-c1a5c869ae46",
      "application_id": "b7341df0-3a87-40ef-8f3c-a7dda97816a2",
      "created_at": 1753435158.509,
      "credential_id": "1f64eaaa-eff0-4f18-bfc2-8c5b1e7949ae",
      "request": {
        "callback_url": "https://webhook.site/aed5cd28-f8aa-4dca-9480-8ec9b42137dc",
        "action": "text2video",
        "model": "veo2",
        "prompt": "白色陶瓷咖啡杯在光滑的大理石台面上，晨光透过窗户照射。相机缓慢地围绕咖啡杯旋转360度，短暂停留在把手处。"
      },
      "trace_id": "d1d53c04-58c5-4c40-bb63-f00188540e56",
      "type": "videos",
      "user_id": "ad7afe47-cea9-4cda-980f-2ad8810e51cf",
      "response": {
        "success": true,
        "task_id": "1ebe4f2b-59ba-4385-a4ea-0ce8a3fe12ed",
        "trace_id": "d1d53c04-58c5-4c40-bb63-f00188540e56",
        "data": [
          {
            "id": "2f43ceed37944b4d836e1a1899dad0a1",
            "video_url": "https://platform.cdn.acedata.cloud/veo/1ebe4f2b-59ba-4385-a4ea-0ce8a3fe12ed.mp4",
            "created_at": "2025-07-25 17:19:20",
            "complete_at": "2025-07-25 17:21:45",
            "state": "succeeded"
          }
        ]
      }
    }
  ],
  "count": 2
}
```

返回结果一共有多个字段，其中items是包含了批量视频任务的具体详情信息，每个视频任务的具体信息与上文的字段一样，字段信息如下。

- `items`，批量视频任务的所有具体详情信息。它是一个数组，每个数组的元素和上文查询单个任务的返回结果格式是一样的。
- `count`，此处批量查询视频任务的个数。

#### CURL

```bash
curl -X POST 'https://api.acedata.cloud/veo/tasks' \
-H 'accept: application/json' \
-H 'authorization: Bearer {token}' \
-H 'content-type: application/json' \
-d '{
  "ids": ["1ebe4f2b-59ba-4385-a4ea-0ce8a3fe12ed","1ebe4f2b-59ba-4385-a4ea-0ce8a3fe12ed"],
  "action": "retrieve_batch"
}'
```

## 错误处理

在调用 API 时，如果遇到错误，API 会返回相应的错误代码和信息。例如：

- `400 token_mismatched`：错误请求，可能是由于缺少或无效的参数。
- `400 api_not_implemented`：错误请求，可能是由于缺少或无效的参数。
- `401 invalid_token`：未授权，授权令牌无效或缺失。
- `429 too_many_requests`：请求过多，您已超出速率限制。
- `500 api_error`：内部服务器错误，服务器出现问题。

### 错误响应示例

```json
{
  "success": false,
  "error": {
    "code": "api_error",
    "message": "获取失败"
  },
  "trace_id": "2cf86e86-22a4-46e1-ac2f-032c0f2a4e89"
}
```

## 结论

通过本文档，您已经了解了如何使用 Veo Tasks API 进行查询单个或批量视频任务的所有具体详情信息。希望本文档能帮助您更好地对接和使用该 API。如有任何问题，请随时联系我们的技术支持团队。